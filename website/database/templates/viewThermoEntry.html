{% extends "base.html" %}
{% load markup %}

{% block title %}View Thermodynamics Entry{% endblock %}
{% block page_title %}View Thermodynamics Entry{% endblock %}

{% block extrahead %}
<script type="text/javascript" src="/media/jQuery.js"></script>
<script type="text/javascript" src="/media/jsMath/easy/load.js"></script>
<script type="text/javascript" src="/media/chem.js"></script>
{% endblock %}

{% block navbar_items %}
<a href="{% url database.views.index %}">Database</a> &raquo;
<a href="{% url database.views.index %}">Thermodynamics</a> &raquo;
<a href="{% url database.views.index %}">Depository</a> &raquo;
<a href="{% url database.views.viewThermoEntry entry.index %}">{{ entry.index }}</a>
{% endblock %}

{% block sidebar_items %}
{% include "databaseSidebar.html" %}
{% endblock %}

{% block page_body %}
<h3>Species</h3>
<pre>
{{ entry.molecule }}
</pre>

<h3>Data</h3>
<p>
<table class="data">
    <tr>
        <td class="key">Format:</td>
        <td class="value">{{ format }}</td>
    </tr>
{% ifequal format 'Group additivity' %}
    <tr>
        <td class="key">Heat capacities:</td>
        <td class="value">
            <table>
                {% for T, Cp in Cpdata %}
                <tr>
                    <td>{{ T }} K &nbsp; &nbsp;</td>
                    <td>{{ Cp }} J/mol*K</td>
                </tr>
                {% endfor %}
            </table>
        </td>
    </tr>
    <tr>
        <td class="key">Enthalpy (298 K):</td>
        <td class="value">{{ H298 }} kJ/mol</td>
    </tr>
    <tr>
        <td class="key">Entropy (298 K):</td>
        <td class="value">{{ S298 }} J/mol*K</td>
    </tr>
{% endifequal %}
{% ifequal format 'Wilhoit polynomial' %}
    <tr>
        <td colspan="2">
            <div class="math">
            C_\mathrm{p}(T) = C_\mathrm{p}(0) + \left[ C_\mathrm{p}(\infty) -
                C_\mathrm{p}(0) \right] y^2 \left[ 1 + (y - 1) \sum_{i=0}^3 a_i y^i \right]
            </div>
            <div class="math">
            H^\circ(T) = H_0 + \int_0^\infty C_\mathrm{p}(T) \ dT \ \ \ \ \ \ \ \ S^\circ(T) = S_0 + \int_0^\infty \frac{C_\mathrm{p}(T)}{T} \ dT
            </div>
            <div class="math">
            y \equiv \frac{T}{T + B}
            </div>
        </td>
    </tr>
    <tr>
        <td class="key"><span class="math">C_\mathrm{p}(0) = </span></td>
        <td class="value">{{ Cp0 }} J/mol*K</td>
    </tr>
    <tr>
        <td class="key"><span class="math">C_\mathrm{p}(\infty) = </span></td>
        <td class="value">{{ CpInf }} J/mol*K</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_0 = </span></td>
        <td class="value">{{ a0 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_1 = </span></td>
        <td class="value">{{ a1 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_2 = </span></td>
        <td class="value">{{ a2 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_3 = </span></td>
        <td class="value">{{ a3 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">B = </span></td>
        <td class="value">{{ B }} K</td>
    </tr>
    <tr>
        <td class="key"><span class="math">H_0 = </span></td>
        <td class="value">{{ H0 }} kJ/mol</td>
    </tr>
    <tr>
        <td class="key"><span class="math">S_0 = </span></td>
        <td class="value">{{ S0 }} J/mol*K</td>
    </tr>
{% endifequal %}
{% ifequal format 'NASA polynomials' %}
    <tr>
        <td colspan="2">
            <div class="math">
            \frac{C_\mathrm{p}^\circ(T)}{R} = a_{-2} T^{-2} + a_{-1} T^{-1} + a_0 + a_1 T + a_2 T^2 + a_3 T^3 + a_4 T^4
            </div>
            <div class="math">
            \frac{H^\circ(T)}{RT} = -a_{-2} T^{-2} + a_{-1} \frac{\ln T}{T} + a_0 + \frac{1}{2} a_1 T + \frac{1}{3} a_2 T^2 + \frac{1}{4} a_3 T^3 + \frac{1}{5} a_4 T^4 + \frac{a_5}{T}
            </div>
            <div class="math">
            \frac{S^\circ(T)}{R} = -\frac{1}{2} a_{-2} T^{-2} - a_{-1} T^{-1} + a_0 \ln T + a_1 T + \frac{1}{2} a_2 T^2 + \frac{1}{3} a_3 T^3 + \frac{1}{4} a_4 T^4 + a_6
            </div>
        </td>
    </tr>
    {% for poly in polynomials %}
    <tr>
        <td colspan="2" class="heading">NASA Polynomial #{{forloop.counter}} ({{ poly.Tmin }} - {{ poly.Tmax }} K)</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_{-2} = </span></td>
        <td class="value">{{ poly.cm2 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_{-1} = </span></td>
        <td class="value">{{ poly.cm1 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_0 = </span></td>
        <td class="value">{{ poly.c0 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_1 = </span></td>
        <td class="value">{{ poly.c1 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_2 = </span></td>
        <td class="value">{{ poly.c2 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_3 = </span></td>
        <td class="value">{{ poly.c3 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_4 = </span></td>
        <td class="value">{{ poly.c4 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_5 = </span></td>
        <td class="value">{{ poly.c5 }}</td>
    </tr>
    <tr>
        <td class="key"><span class="math">a_6 = </span></td>
        <td class="value">{{ poly.c6 }}</td>
    </tr>
    {% endfor %}
{% endifequal %}
    <tr>
        <td class="key">Temperature range:</td>
        <td class="value">{{ Tmin }} - {{ Tmax }} K</td>
    </tr>
</table>
</p>

{% include "thermoEvalForm.html" %}

<h3>Reference</h3>
<p>{{ entry.reference|restructuredtext }}</p>
<p>{{ entry.referenceLink|restructuredtext }}</p>
<p>{{ entry.referenceType|restructuredtext }}</p>

<h3>Description</h3>
<p>{{ entry.shortDesc|restructuredtext }}</p>
<p>{{ entry.longDesc|restructuredtext }}</p>

<h3>Comments</h3>
{% for date, username, comment in entry.comments %}
<table class="comment">
<tr>
    <td rowspan="2" class="commentIcon"><img src="/media/anonymous.png"/ width="32"></td>
    <td class="commentText">{{ comment|restructuredtext }}</td>
</tr>
<tr>
    <td class="commentMeta">Comment by {{ username }} on {{ date }}</td>
</tr>
</table>
{% endfor %}
<p><a>Add a comment</a></p>

<h3>History</h3>
{% for date, username, action in entry.history %}
<table class="history">
<tr>
    <td rowspan="2" class="historyIcon"><img src="/media/anonymous.png"/ width="32"></td>
    <td class="historyText">{{ action|restructuredtext }}</td>
</tr>
<tr>
    <td class="historyMeta">Action by {{ username }} on {{ date }} <a>View details</a></td>
</tr>
</table>
{% endfor %}

{% endblock %}
